<ion-view title="Actualizar perfil">
    <ion-content class="padding">
        <form class="list" name="updateUserForm" ng-submit="update($event, user)">
            <label class="item item-input item-stacked-label">
                <span class="input-label">Número de documento</span>
                <input disabled type="number" aria-describedby="registro-user-document" ng-model="id">
                <p id= "registro-user-document" class="aria-description">Número del documento de identidad</p>
            </label>
            <label for="name" class="item item-input item-stacked-label">
                <span class="input-label">Nombres</span>
                <input name="name" type="text"  aria-describedby="registro-user-name" ng-model="user.names"  required>
                <p id= "registro-user-name" class="aria-description">Digite su nombre</p>
                <span ng-if="validate(updateUserForm, 'name')" class="text-assertive">Campo obligatorio</span>
            </label>
            <label for="lastName" class="item item-input item-stacked-label">
                <span class="input-label">Apellidos</span>
                <input name="lastName" type="text" aria-describedby="registro-user-surname" ng-model="user.last_name"  required>
                <p id="registro-user-surname" class="aria-description">Digite sus apellidos</p>
                <span ng-if="validate(updateUserForm, 'lastName')" class="text-assertive">Campo obligatorio</span>
            </label>
            <label for="birth_date" class="item item-input item-stacked-label">
                <span class="input-label">Fecha de nacimiento</span>
                <input name="birth_date" type="date"  aria-describedby="registro-user-birthdate" ng-model="user.birth_date"  required>
                <p id="registro-user-birthdate" class="aria-description">Ingrese su fecha de nacimiento</p>
                <span ng-if="validate(updateUserForm, 'birth_date')" class="text-assertive">Campo obligatorio/span>
            </label>
            <label for="gender" class="item item-input item-stacked-label">
                <span class="input-label">Género</span>
                <ion-radio name="gender" ng-repeat="gender in genders" ng-model="user.evaluee.gender_id" ng-value="{{gender.id}}" name="disabilities" required>{{gender.description}}</ion-radio>
                <span ng-if="validate(updateUserForm, 'gender')" class="text-assertive">Campo obligatorio/span>
            </label>
            <label for="disabilitie" class="item item-input item-stacked-label">
                <span class="input-label">Condición visual</span>
                <ion-radio name="disabilitie" ng-repeat="disabilitie in disabilities" ng-model="user.evaluee.disability_id" ng-value="{{disabilitie.id}}" name="disabilities" required>{{disabilitie.description}}</ion-radio>
                <span ng-if="validate(updateUserForm, 'disabilitie')" class="text-assertive">Campo obligatorio/span>
            </label>
            <label for="type" class="item item-input item-stacked-label">
                <span class="input-label">Tipo de usuario</span>
                <ion-radio name="type" ng-repeat="type in types" ng-model="user.evaluee.evaluee_type" ng-value="{{type.id}}" name="types" required>{{type.description}}</ion-radio>
                <span ng-if="validate(updateUserForm, 'type')" class="text-assertive">Campo obligatorio/span>
            </label>
            <label for="level" class="item item-input item-stacked-label">
                <span class="input-label">Nivel de formación</span>
                <ion-radio name="level" ng-repeat="level in levels" ng-model="user.evaluee.level_id" ng-value="{{level.id}}" name="levels" required>{{level.description}}</ion-radio>
                <span ng-if="validate(updateUserForm, 'level')" class="text-assertive">Campo obligatorio/span>
            </label>
            <label for="email" class="item item-input item-stacked-label">
                <span class="input-label" >Correo</span>
                <input name="email" ng-pattern="/^[a-z][\w.-]+@\w[\w.-]+\.[\w.-]*[a-z][a-z]$/i" type="email" aria-describedby="registro-user-mail" ng-model="user.mail"  required>
                <p id ="registro-user-mail" class="aria-description">Digite su correo</p>
            <span ng-if="validate(updateUserForm, 'email')" class="text-assertive">Tiene que ser un correo válido</span>
            </label>
            <h5 style="text-align: center" ng-if="updateUserForm.$invalid" class="text-assertive">Tu formulario contiene campos inválidos</h5>
            <input ng-disabled="updateUserForm.$invalid" type="submit" class="button button-block button-inci" value="Actualizar">
        </form>
    </ion-content>
</ion-view>
