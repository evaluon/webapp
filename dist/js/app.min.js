"use strict";angular.module("starter",["ionic","config.services","starter.controllers","starter.services","app.templates","starter.evaluation.controllers","starter.evaluation.services","starter.selfEvaluation.controllers","starter.selfEvaluation.services","starter.results.controllers","starter.results.services","starter.configuration.controllers","starter.configuration.services","starter.indicators.controllers","starter.indicators.services","LocalStorageModule"]).config(function($stateProvider,$urlRouterProvider,$locationProvider,routingConfigProvider,localStorageServiceProvider,$httpProvider){$stateProvider.state("404",{url:"/404",templateUrl:"views/errors/404.tpl.html",data:{access:routingConfigProvider.accessLevels.public}}).state("403",{url:"/403",templateUrl:"views/errors/403.tpl.html",data:{access:routingConfigProvider.accessLevels.public}}),$stateProvider.state("login",{url:"/login",templateUrl:"views/auth/login.tpl.html",controller:"LoginCtrl",data:{access:routingConfigProvider.accessLevels.anon}}).state("registro",{url:"/registro",templateUrl:"views/auth/registro.tpl.html",controller:"RegistroCtrl",data:{access:routingConfigProvider.accessLevels.anon}}).state("recover",{url:"/recover",templateUrl:"views/auth/recover.tpl.html",controller:"RecoverPasswordCtrl",data:{access:routingConfigProvider.accessLevels.anon}}).state("auth",{url:"/auth",controller:"AuthCtrl",data:{access:routingConfigProvider.accessLevels.anon}}),$stateProvider.state("home",{url:"/",templateUrl:"views/auth/home.tpl.html",controller:"HomeCtrl",data:{access:routingConfigProvider.accessLevels.user}}),$stateProvider.state("home2",{url:"",templateUrl:"views/auth/home.tpl.html",controller:"HomeCtrl",data:{access:routingConfigProvider.accessLevels.user}}),$stateProvider.state("evaluation",{url:"/evaluation/institutions",templateUrl:"views/evaluation/institutions.tpl.html",controller:"EvaluationInstitutesCtrl",data:{access:routingConfigProvider.accessLevels.user}}).state("evaluation-groups",{url:"/evaluation/groups/:id",templateUrl:"views/evaluation/groups.tpl.html",controller:"EvaluationGroupsCtrl",data:{access:routingConfigProvider.accessLevels.user}}).state("evaluation-tests",{url:"/evaluation/tests/:id",templateUrl:"views/evaluation/tests.tpl.html",controller:"EvaluationTestsCtrl",data:{access:routingConfigProvider.accessLevels.user}}).state("evaluation-password",{url:"/evaluation/password/:id",templateUrl:"views/evaluation/password.tpl.html",controller:"EvaluationPasswordCtrl",data:{access:routingConfigProvider.accessLevels.user}}).state("evaluation-knowledge-area",{url:"/evaluation/knowledge-area/:id",templateUrl:"views/evaluation/knowledge-area.tpl.html",controller:"EvaluationKnowledgeAreaCtrl",data:{access:routingConfigProvider.accessLevels.user}}).state("evaluation-test-area",{url:"/evaluation/test/:id/area/:area",templateUrl:"views/evaluation/test.tpl.html",controller:"EvaluationTestCtrl",data:{access:routingConfigProvider.accessLevels.user}}),$stateProvider.state("selfEvaluation",{url:"/evaluate/tests",templateUrl:"views/evaluation/tests.tpl.html",controller:"SelfEvaluationTestsCtrl",data:{access:routingConfigProvider.accessLevels.user}}).state("selfEvaluation-knowledge-area",{url:"/evaluate/knowledge-area/:id",templateUrl:"views/evaluation/knowledge-area.tpl.html",controller:"SelfEvaluationKnowledgeAreaCtrl",data:{access:routingConfigProvider.accessLevels.user}}).state("selfEvaluation-test-area",{url:"/evaluate/test/:id/area/:area",templateUrl:"views/evaluation/test.tpl.html",controller:"SelfEvaluationTestCtrl",data:{access:routingConfigProvider.accessLevels.user}}),$stateProvider.state("resultsInstitutes",{url:"/results-institutes",templateUrl:"views/results/institutions.tpl.html",controller:"ResultsInstitutesCtrl",data:{access:routingConfigProvider.accessLevels.user}}).state("results",{url:"/results/:id",templateUrl:"views/results/results.tpl.html",controller:"ResultsCtrl",data:{access:routingConfigProvider.accessLevels.user}}),$stateProvider.state("indicators",{url:"/indicators",templateUrl:"views/indicators/indicators.tpl.html",controller:"IndicatorsCtrl",data:{access:routingConfigProvider.accessLevels.user}}),$stateProvider.state("configurations",{url:"/configurations",templateUrl:"views/configurations/configurations.tpl.html",data:{access:routingConfigProvider.accessLevels.user}}).state("configurations-changePassword",{url:"/configurations-changePassword",templateUrl:"views/configurations/changePassword.tpl.html",controller:"ChangePasswordCtrl",data:{access:routingConfigProvider.accessLevels.user}}).state("configurations-about",{url:"/configurations-about",templateUrl:"views/configurations/about.tpl.html",data:{access:routingConfigProvider.accessLevels.user}}).state("configurations-help",{url:"/configurations-help",templateUrl:"views/configurations/help.tpl.html",data:{access:routingConfigProvider.accessLevels.user}}).state("configurations-update",{url:"/configurations-update",templateUrl:"views/configurations/updateUser.tpl.html",controller:"UpdateUserCtrl",data:{access:routingConfigProvider.accessLevels.user}}),$urlRouterProvider.otherwise("/404"),$locationProvider.html5Mode(!1),localStorageServiceProvider.setPrefix("Evaluon"),$httpProvider.interceptors.push("httpInterceptor")}).run(function($ionicPlatform,$state,$rootScope,$alert,Auth,access,localStorageService){$ionicPlatform.ready(function(){navigator&&navigator.notification,window.cordova&&window.cordova.plugins.Keyboard&&cordova.plugins.Keyboard.hideKeyboardAccessoryBar(!0),window.StatusBar&&StatusBar.styleDefault(),window.MobileAccessibility&&($rootScope.access=MobileAccessibility)}),$rootScope.validate=function(form,camp){return form[camp].$invalid&&form[camp].$dirty},$rootScope.$on("$stateChangeStart",function(event,toState){localStorageService.isSupported||$alert.show("Alerta","Tu equipo no es compatible con esta aplicación");var ctoken=CryptoJS.SHA1(access.tokens.client).toString();localStorageService.get(ctoken)||Auth.authClient().then(function(token){localStorageService.set(ctoken,token)}),"404"!==toState.name&&"403"!==toState.name&&("login"===toState.name||"registro"===toState.name||"recover"===toState.name||"404"===toState.name||Auth.userLogged()||(event.preventDefault(),$state.go("home"===toState.name||"home2"===toState.name?"login":"403")),"login"!==toState.name&&"registro"!==toState.name&&"recover"!==toState.name||!Auth.userLogged()||(event.preventDefault(),$state.go("/")))})}),angular.module("starter.controllers",[]).controller("LoginCtrl",function($scope,$state,Auth){$scope.user={},$scope.login=function(event){event.preventDefault(),Auth.login($scope.user.username,$scope.user.password)}}).controller("RegistroCtrl",function($scope,$filter,Auth){$scope.$on("$viewContentLoaded",function(){$("#textInit").focus()});var now=new Date;now.setFullYear(now.getFullYear()-3),$scope.maxDate=$filter("date")(now,"yyyy-MM-dd"),$scope.disabilities=[{id:0,description:"Sin discapacidad"},{id:1,description:"Persona ciega"},{id:2,description:"Persona con baja visión"},{id:3,description:"Persona sordociega"}],$scope.types=[{id:1,description:"Estudiante"},{id:2,description:"Empleado"},{id:3,description:"Aspirante universitario"},{id:4,description:"Aspirante empleado"},{id:5,description:"Otro"}],$scope.levels=[{id:1,description:"Educación Básica Primaria"},{id:2,description:"Educación Básica Secundaria"},{id:3,description:"Empleo con el Estado"},{id:4,description:"Universidad"},{id:5,description:"Otro"}],$scope.genders=[{id:1,description:"Hombre"},{id:2,description:"Mujer"}],$scope.registrar=function($event,user){$event.preventDefault(),user.middle_name="",_.map(user.names.split(" "),function(name,index){0===index?user.first_name=name:user.middle_name=user.middle_name+" "+name}),Auth.createUser({id:user.id,first_name:user.first_name,middle_name:user.middle_name,last_name:user.last_name,birth_date:user.birth_date,mail:user.mail,password:CryptoJS.SHA1(user.password).toString()},user.evaluee)}}).controller("RecoverPasswordCtrl",function($scope,$state,$alert,Auth){$scope.recover=function(event,mail){event.preventDefault(),Auth.recoverPassword(mail).then(function(success){success&&$alert.show("Exito","Revise su correo electrónico")})}}).controller("HomeCtrl",function($scope,Auth){$scope.logout=function(){Auth.logout()}}),angular.module("starter.services",[]).factory("Auth",function($http,$ionicLoading,$ionicPopup,$state,$alert,localStorageService,api,access,routingConfig){var API=(localStorageService.get(CryptoJS.SHA1(access.tokens.user).toString()),{authClient:function(data){return $http({method:"post",url:api.url+api.login,headers:{"Content-Type":"application/x-www-form-urlencoded"},data:$.param(data)}).then(function(data){return data.data})},login:function(data){return data.grant_type="password",$http({method:"post",url:api.url+api.login,headers:{Authorization:localStorageService.get(CryptoJS.SHA1(access.tokens.client).toString()).token_type+" "+localStorageService.get(CryptoJS.SHA1(access.tokens.client).toString()).access_token,"Content-Type":"application/x-www-form-urlencoded"},data:$.param(data)})},createUser:function(data){return $http({method:"post",url:api.url+api.user,headers:{Authorization:localStorageService.get(CryptoJS.SHA1(access.tokens.client).toString()).token_type+" "+localStorageService.get(CryptoJS.SHA1(access.tokens.client).toString()).access_token,"Content-Type":"application/json"},data:data})},createEvaluee:function(data){return $http({method:"post",url:api.url+api.evaluee,headers:{Authorization:localStorageService.get(CryptoJS.SHA1(access.tokens.user).toString()).token_type+" "+localStorageService.get(CryptoJS.SHA1(access.tokens.user).toString()).access_token,"Content-Type":"application/json"},data:data})},recoverPassword:function(mail){return $http({method:"delete",url:api.url+api.user,headers:{Authorization:localStorageService.get(CryptoJS.SHA1(access.tokens.client).toString()).token_type+" "+localStorageService.get(CryptoJS.SHA1(access.tokens.client).toString()).access_token,"Content-Type":"application/json"},data:{mail:mail}})}});return{authClient:function(){return $ionicLoading.show({template:"Cargando..."}),API.authClient(access.client).then(function(success){return $ionicLoading.hide(),localStorageService.set(CryptoJS.SHA1(access.tokens.client),success.data),success})},isAuth:function(){},isLoggedIn:function(){return localStorageService.get(CryptoJS.SHA1(access.tokens.client).toString())?!0:!1},login:function(username,password){$ionicLoading.show({template:"Cargando..."});var success=function(success){$ionicLoading.hide(),success.data.role=routingConfig.userRoles.user,localStorageService.set(CryptoJS.SHA1(access.tokens.user).toString(),success.data),$state.go("home")},error=function(){$ionicLoading.hide()},data={grant_type:"password",username:username,password:CryptoJS.SHA1(password).toString()};API.login(data).then(success,error)},createUser:function(data,dataEvaluee){$ionicLoading.show({template:"Cargando..."}),API.createUser(data).then(function(){var loginData={username:data.mail,password:data.password};API.login(loginData).then(function(success){success.data.role=routingConfig.userRoles.user,localStorageService.set(CryptoJS.SHA1(access.tokens.user).toString(),success.data),API.createEvaluee(dataEvaluee).then(function(){$ionicLoading.hide(),$alert.show("Exito","Usuario creado satisfactoriamente"),$state.go("home")}).catch(function(){$ionicLoading.hide()})}).catch(function(){$ionicLoading.hide()})}).catch(function(){$ionicLoading.hide()})},recoverPassword:function(mail){return $ionicLoading.show({template:"Cargando..."}),API.recoverPassword(mail).then(function(success){return $ionicLoading.hide(),success}).catch(function(){$ionicLoading.hide()})},logout:function(){localStorageService.remove(CryptoJS.SHA1(access.tokens.user).toString()),$state.go("login")},userLogged:function(){return localStorageService.get(CryptoJS.SHA1(access.tokens.user).toString())}}}).provider("routingConfig",function(){this.userRoles={"public":1,user:2,admin:4},this.accessLevels={"public":this.userRoles.public|this.userRoles.user|this.userRoles.admin,anon:this.userRoles.public,user:this.userRoles.user|this.userRoles.admin,admin:this.userRoles.admin},this.$get=function(){var that=this;return{userRoles:that.userRoles,accessLevels:that.accessLevels}}}),angular.module("config.services",[]).factory("httpInterceptor",function($q){var $alert=function(title,message){navigator&&navigator.notification?navigator.notification.alert(message,function(){},title,"Aceptar"):alert(message)},errors={400:{missing_fields:"Solicitud incompleta"},403:{invalid_permissions:"No tienes permiso para acceder a estos recursos.",is_evaluee:"Imposible realizar acción. Es un estudiante.",not_an_evaluee:"Imposible realizar acción. No es un docente.",is_evaluator:"Imposible realizar acción. Es un docente.",not_an_evaluator:"Imposible realizar acción. No es un docente.",not_evaluees:"Alguno de los usuarios no es un estudiante.",test_unopened:"Este test aún no está abierto",unabled_institution:"Imposible realizar acción sobre esta institución.",insuficient_privileges:"No tienes permiso para acceder a estos recursos",invalid_hotp_code:"Clave de acceso inválida",invalid_grant:"Usuario y contraseña no coinciden",access_denied:"Usuario bloqueado",already_opened_test:"El test que intenta abrir ya ha sido abierto",existing_user:"El usuario ya existe"},404:{no_active_groups:"No hay grupos activos",no_active_period:"No hay algún un periodo activo para este grupo",no_active_test:"No hay test activos para este grupo",test_unavailable:"La prueba seleccionada no está disponible",client_not_found:"Cliente de aplicación no encontrado",results_not_found:"Los resultados del evaluado son muy pocos para hacer una estadística o no se encontraron. Posiblemente el evaluado es inválido",no_questions_available:"No hay preguntas disponibles"}};return{responseError:function(response){var message;return message=errors[response.status]?errors[response.status][response.data.error.message]?errors[response.status][response.data.error.message]:errors[response.status][response.data.error]?errors[response.status][response.data.error]:"Error desconocido, si este persiste contacte al administrador":500==response.status?"user_not_found"==response.data.error_description?"Usuario y contraseña no coinciden":"blocked_user"==response.data.error_description?"Usuario bloqueado":"Ha ocurrido un error en el servidor":0==response.status?"No hay conección a internet":"Error desconocido, si este persiste contacte al administrador",response.message=message,response.config.data?response.config.data.nonErrorMessage||$alert("Error",message):$alert("Error",message),$q.reject(response)}}}).constant("api",{url3:"http://localhost:3004",url2:"http://192.168.43.171:3004",url:"http://evaluon.boolinc.co:80",login:"/auth/token",institution:"/institution",group:"/group",test:"/test",self:"/self",knowledgeArea:"/knowledgearea",testQuestions:"/question",response:"/response",user:"/user",result:"/results",evaluee:"/evaluee",close:"/close",open:"/open",indicator:"/indicator",active:"/active",id:function(id){return"/"+id}}).constant("access",{client:{grant_type:"client_credentials",client_id:"administrator",client_secret:"kv0Ls8xoIFPdE2GXMK5fodQsAEBV5GzzINZOA0NX99E="},tokens:{client:"alv236c0",user:"ams43ksl",redirect:"qoelzc",params:"amco194"}}).service("$alert",function($ionicPopup){this.show=function(title,message){if(navigator&&navigator.notification)navigator.notification.alert(message,function(){},title,"Aceptar");else{$ionicPopup.alert({title:title,template:message,okType:"button-inci"})}},this.confirm=function(title,message,success){if(navigator&&navigator.notification){var onConfirm=function(res){1==res&&success()};navigator.notification.confirm(message,onConfirm,title,["Aceptar","Cancelar"])}else{var confirmPopup=$ionicPopup.confirm({title:title,template:message,cancelText:"Cancelar",okText:"Aceptar",okType:"button-inci"});confirmPopup.then(function(res){res&&success()})}}}),angular.module("starter.configuration.controllers",[]).controller("ChangePasswordCtrl",function($scope,$alert,changePassword){$scope.user={},$scope.changePassword=function(){$scope.user.password1===$scope.user.password2?changePassword.changePassword($scope.user.password1):$alert.show("Error","Las contraseñas no coinciden")}}).controller("UpdateUserCtrl",function($scope,$filter,updateUser){$scope.disabilities=[{id:0,description:"Sin discapacidad"},{id:1,description:"Persona ciega"},{id:2,description:"Persona con baja visión"},{id:3,description:"Persona sordociega"}],$scope.types=[{id:1,description:"Estudiante"},{id:2,description:"Empleado"},{id:3,description:"Aspirante universitario"},{id:4,description:"Aspirante empleado"},{id:5,description:"Otro"}],$scope.levels=[{id:1,description:"Educación Básica Primaria"},{id:2,description:"Educación Básica Secundaria"},{id:3,description:"Empleo con el Estado"},{id:4,description:"Universidad"},{id:5,description:"Otro"}],$scope.genders=[{id:1,description:"Hombre"},{id:2,description:"Mujer"}],updateUser.getUser().then(function(data){$scope.user=data,$scope.id=Number(data.id),$scope.user.birth_date=$filter("date")(new Date(data.birth_date),"yyyy-MM-dd"),$scope.user.names=data.middle_name?data.first_name+" "+data.middle_name:data.first_name}),$scope.update=function($event,user){$event.preventDefault(),user.middle_name="",_.map(user.names.split(" "),function(name,index){0===index?user.first_name=name:user.middle_name=user.middle_name+" "+name});var update={id:user.id,first_name:user.first_name,middle_name:user.middle_name,last_name:user.last_name,birth_date:user.birth_date,mail:user.mail};updateUser.updateUser(update).then(function(){updateUser.updateEvaluee(user.evaluee).then(function(){})})}}),angular.module("starter.configuration.services",[]).factory("changePassword",function($http,$ionicLoading,$state,$alert,localStorageService,api,access){var API={changePassword:function(password){return $http({method:"put",url:api.url+api.user,headers:{Authorization:localStorageService.get(CryptoJS.SHA1(access.tokens.user).toString()).token_type+" "+localStorageService.get(CryptoJS.SHA1(access.tokens.user).toString()).access_token,"Content-Type":"application/json"},data:{password:CryptoJS.SHA1(password).toString()}})}};return{changePassword:function(password){return $ionicLoading.show({template:"Cargando..."}),API.changePassword(password).then(function(success){$ionicLoading.hide(),$alert.show("Exito","Contraseña cambiada satisfactoriamente"),$state.go("home")}).catch(function(){$ionicLoading.hide()})}}}).factory("updateUser",function($http,$ionicLoading,$alert,localStorageService,api,access){var API={getUser:function(){return $http({method:"GET",url:api.url+api.user,headers:{Authorization:localStorageService.get(CryptoJS.SHA1(access.tokens.user).toString()).token_type+" "+localStorageService.get(CryptoJS.SHA1(access.tokens.user).toString()).access_token}})},updateUser:function(user){return $http({method:"PUT",url:api.url+api.user,headers:{Authorization:localStorageService.get(CryptoJS.SHA1(access.tokens.user).toString()).token_type+" "+localStorageService.get(CryptoJS.SHA1(access.tokens.user).toString()).access_token},data:user})},updateEvalue:function(evaluee){return $http({method:"PUT",url:api.url+api.evaluee,headers:{Authorization:localStorageService.get(CryptoJS.SHA1(access.tokens.user).toString()).token_type+" "+localStorageService.get(CryptoJS.SHA1(access.tokens.user).toString()).access_token},data:evaluee})}};return{getUser:function(){return $ionicLoading.show({template:"Cargando..."}),API.getUser().then(function(success){return $ionicLoading.hide(),success.data.data}).catch(function(){$ionicLoading.hide()})},updateUser:function(user){return $ionicLoading.show({template:"Cargando..."}),API.updateUser(user).then(function(success){return success}).catch(function(){$ionicLoading.hide()})},updateEvaluee:function(evaluee){return $ionicLoading.show({template:"Cargando..."}),API.updateEvalue(evaluee).then(function(success){return $ionicLoading.hide(),$alert.show("Exito","Actualizado correctamente"),success}).catch(function(){$ionicLoading.hide()})}}}),angular.module("starter.evaluation.controllers",[]).controller("EvaluationInstitutesCtrl",function($scope,evaluationInstitutes){$scope.rowInstitutes=[],$scope.routes={groups:"evaluation-groups"};var doubled=function(list,newL){return newL||(newL=[]),0==list.length?newL:doubled(_.tail(list,2),_.union(newL,[_.head(list,2)]))};evaluationInstitutes.getAll().then(function(success){success&&($scope.rowInstitutes=doubled(success.data.data))}).catch(function(){})}).controller("EvaluationGroupsCtrl",function($scope,$stateParams,evaluationGroups){$scope.rowGroups=[],$scope.routes={test:"evaluation-tests"};var doubled=function(list,newL){return newL||(newL=[]),0==list.length?newL:doubled(_.tail(list,2),_.union(newL,[_.head(list,2)]))};evaluationGroups.getGroupsByInstitutionId($stateParams.id).then(function(success){success&&($scope.rowGroups=doubled(success.data.data))}).catch(function(){})}).controller("EvaluationTestsCtrl",function($scope,$stateParams,evaluationTests){$scope.rowTests=[],$scope.rowTest2=[],$scope.routes={testsDetails:"evaluation-password"};var doubled=function(list,newL){return newL||(newL=[]),0==list.length?newL:doubled(_.tail(list,2),_.union(newL,[_.head(list,2)]))};evaluationTests.getTestsByGroupId($stateParams.id).then(function(success){success&&($scope.rowTests2=doubled(success.data.data),$scope.rowTests=success.data.data)}).catch(function(){})}).controller("EvaluationKnowledgeAreaCtrl",function($scope,$stateParams,$state,$alert,evaluationKnowledgeArea){$scope.rowTestsDetails=[],$scope.routes={test:"evaluation-test-area",testId:$stateParams.id};var doubled=function(list,newL){return newL||(newL=[]),0==list.length?newL:doubled(_.tail(list,2),_.union(newL,[_.head(list,2)]))};evaluationKnowledgeArea.getAllKnowledgeArea($stateParams.id).then(function(success){success&&($scope.rowTestsDetails=doubled(success.data.data))}).catch(function(){}),$scope.exit=function(){$alert.confirm("Alerta","Tu examen será tomado como no enviado",function(){$state.go("home")})}}).controller("EvaluationPasswordCtrl",function($scope,$stateParams,evaluationPassword){$scope.password={},$scope.loginTest=function(event){event.preventDefault(),evaluationPassword.loginTest($stateParams.id,$scope.password.data)}}).controller("EvaluationTestCtrl",function($scope,$stateParams,$alert,$ionicNavBarDelegate,evaluationTest){$scope.test={},$scope.questions=[],$scope.params=$stateParams,$scope.respuesta={},$scope.rollbackAnswersFlag=!1,$scope.open=!1,$scope.close=!1,evaluationTest.getTestAnswersByArea($stateParams).then(function(success){success&&($scope.questions=success.data.data);for(var p in $scope.questions)0==$scope.questions[p].open&&($scope.close=!0,$scope.questions[p].answers=_.shuffle($scope.questions[p].answers)),1==$scope.questions[p].open&&($scope.open=!0)}).catch(function(){}),$scope.verifyAnswers=function(){$scope.rollbackAnswersFlag=!0;var firstUnanswered=null;_.each($scope.questions,function(question,index){question.answer?$("#answer-"+index).replaceWith('<p id="answer-'+index+'">'+(index+1)+".</p>"):null===firstUnanswered&&(firstUnanswered=index,$("#answer-"+index).focus())})},$scope.rollbackAnswers=function(){$scope.rollbackAnswersFlag=!1,_.each($scope.questions,function(question,index){$("#answer-"+index).replaceWith('<h3 id="answer-'+index+'">'+(index+1)+".</h3>")})},$scope.sendAnswers=function(){evaluationTest.sendAnswers($stateParams.id,$scope.questions)},$scope.exit=function(){$alert.confirm("Alerta","El área será tomada como no enviada",function(){$ionicNavBarDelegate.back()})}}),angular.module("starter.evaluation.services",[]).factory("evaluationInstitutes",function($http,$ionicLoading,localStorageService,api,access){var API={getAllInstitutes:function(){return $http({method:"get",url:api.url+api.institution,headers:{Authorization:localStorageService.get(CryptoJS.SHA1(access.tokens.user).toString()).token_type+" "+localStorageService.get(CryptoJS.SHA1(access.tokens.user).toString()).access_token}})}};return{getAll:function(){return $ionicLoading.show({template:"Cargando..."}),API.getAllInstitutes().then(function(success){return $ionicLoading.hide(),success}).catch(function(){$ionicLoading.hide()})}}}).factory("evaluationGroups",function($http,$ionicLoading,localStorageService,api,access){var API={getGroupsByInstitutionId:function(institutionId){return $http({method:"get",url:api.url+api.evaluee+api.group,headers:{Authorization:localStorageService.get(CryptoJS.SHA1(access.tokens.user).toString()).token_type+" "+localStorageService.get(CryptoJS.SHA1(access.tokens.user).toString()).access_token},params:{institution:institutionId}})}};return{getGroupsByInstitutionId:function(institutionId){return $ionicLoading.show({template:"Cargando..."}),API.getGroupsByInstitutionId(institutionId).then(function(success){return $ionicLoading.hide(),success}).catch(function(){$ionicLoading.hide()})}}}).factory("evaluationTests",function($http,$ionicLoading,$ionicNavBarDelegate,localStorageService,api,access){var API={getTestsByGroupId:function(groupId){return $http({method:"get",url:api.url+api.test+api.group+"/"+groupId+api.active,headers:{Authorization:localStorageService.get(CryptoJS.SHA1(access.tokens.user).toString()).token_type+" "+localStorageService.get(CryptoJS.SHA1(access.tokens.user).toString()).access_token,"Content-Type":"application/json"}})}};return{getTestsByGroupId:function(groupId){return $ionicLoading.show({template:"Cargando..."}),API.getTestsByGroupId(groupId).then(function(success){return $ionicLoading.hide(),success}).catch(function(error){$ionicLoading.hide(),404===error.status&&$ionicNavBarDelegate.back()})}}}).factory("evaluationPassword",function($http,$ionicLoading,$state,$ionicPopup,localStorageService,api,access){var API={openTest:function(testId,hotp){return $http({method:"post",url:api.url+api.test+api.id(testId)+api.open,headers:{Authorization:localStorageService.get(CryptoJS.SHA1(access.tokens.user).toString()).token_type+" "+localStorageService.get(CryptoJS.SHA1(access.tokens.user).toString()).access_token,"Content-Type":"application/json"},data:{hotp:hotp}})}};return{loginTest:function(testId,hotp){return $ionicLoading.show({template:"Cargando..."}),API.openTest(testId,hotp).then(function(success){return $ionicLoading.hide(),$state.go("evaluation-knowledge-area",{id:testId}),success}).catch(function(){$ionicLoading.hide()})}}}).factory("evaluationKnowledgeArea",function($http,$ionicLoading,$state,$ionicPopup,$alert,localStorageService,api,access){var API={getAllKnowledgeArea:function(testId){return $http({method:"get",url:api.url+api.test+"/"+testId+api.knowledgeArea,headers:{Authorization:localStorageService.get(CryptoJS.SHA1(access.tokens.user).toString()).token_type+" "+localStorageService.get(CryptoJS.SHA1(access.tokens.user).toString()).access_token,"Content-Type":"application/json"}})},closeTest:function(testId){return $http({method:"post",url:api.url+api.test+api.id(testId)+api.close,headers:{Authorization:localStorageService.get(CryptoJS.SHA1(access.tokens.user).toString()).token_type+" "+localStorageService.get(CryptoJS.SHA1(access.tokens.user).toString()).access_token}})}};return{getAllKnowledgeArea:function(testId){return $ionicLoading.show({template:"Cargando..."}),API.getAllKnowledgeArea(testId).then(function(success){return success.data.data.length>0?($ionicLoading.hide(),success):void API.closeTest(testId).then(function(){$ionicLoading.hide(),$alert.show("Mensaje","Prueba finalizada exitosamente"),$state.go("home")})}).catch(function(){$ionicLoading.hide()})}}}).factory("evaluationTest",function($http,$ionicLoading,$q,$state,$alert,localStorageService,api,access,$ionicNavBarDelegate){var API={getTestAnswersByArea:function(test){return $http({method:"get",url:api.url+api.test+"/"+test.id+api.testQuestions+"/"+test.area,headers:{Authorization:localStorageService.get(CryptoJS.SHA1(access.tokens.user).toString()).token_type+" "+localStorageService.get(CryptoJS.SHA1(access.tokens.user).toString()).access_token,"Content-Type":"application/json"}})},getTestById:function(testId){return $http({method:"get",url:api.url+api.test+"/"+testId,headers:{Authorization:localStorageService.get(CryptoJS.SHA1(access.tokens.user).toString()).token_type+" "+localStorageService.get(CryptoJS.SHA1(access.tokens.user).toString()).access_token,"Content-Type":"application/json"}})},sendAnswers:function(test,data){for(var qs=[],i=0;i<data.length;i++)qs.push(function(d){var sendData={test_id:test,question_id:d.id};return sendData=d.open?_.extend({answer_id:null,text:d.answer},sendData):_.extend({answer_id:d.answer},sendData),$http({method:"post",url:api.url+api.response,headers:{Authorization:localStorageService.get(CryptoJS.SHA1(access.tokens.user).toString()).token_type+" "+localStorageService.get(CryptoJS.SHA1(access.tokens.user).toString()).access_token,"Content-Type":"application/json"},data:sendData})}(data[i]));return $q.all(qs).then(function(responses){var qSent=_.reduce(responses,function(a,r){return a+r},0);qSent===qs.length?console.log("All questions sent"):console.log("%d/%d questions sent",qSent,qs.length)})}};return{getTestAnswersByArea:function(test){return $ionicLoading.show({template:"Cargando..."}),API.getTestAnswersByArea(test).then(function(success){return $ionicLoading.hide(),success}).catch(function(){$ionicLoading.hide()})},getTestById:function(){return $ionicLoading.show({template:"Cargando..."}),API.getTestAnswersByArea(test).then(function(success){return $ionicLoading.hide(),success}).catch(function(){$ionicLoading.hide()})},sendAnswers:function(testId,data){$ionicLoading.show({template:"Cargando..."}),API.sendAnswers(testId,data).then(function(){$ionicLoading.hide(),$alert.show("Exito","Area enviada"),$ionicNavBarDelegate.back()}).catch(function(){$ionicLoading.hide()})}}}),angular.module("starter.indicators.controllers",[]).controller("IndicatorsCtrl",function($scope,indicators){$scope.indicators={},$scope.user={},$scope.levels={bronze:"Bronce",silver:"Plata",gold:"Oro",platinum:"Platino",diamond:"Diamante",master:"Master"},indicators.getIndicators().then(function(success){$scope.indicators=success.data.data}),indicators.getUser().then(function(success){$scope.user=success.data.data})}),angular.module("starter.indicators.services",[]).factory("indicators",function($http,$ionicLoading,localStorageService,api,access){var API={getIndicators:function(){return $http({method:"get",url:api.url+api.indicator,headers:{Authorization:localStorageService.get(CryptoJS.SHA1(access.tokens.user).toString()).token_type+" "+localStorageService.get(CryptoJS.SHA1(access.tokens.user).toString()).access_token}})},getUser:function(){return $http({method:"get",url:api.url+api.user,headers:{Authorization:localStorageService.get(CryptoJS.SHA1(access.tokens.user).toString()).token_type+" "+localStorageService.get(CryptoJS.SHA1(access.tokens.user).toString()).access_token}})}};return{getIndicators:function(){return $ionicLoading.show({template:"Cargando..."}),API.getIndicators().then(function(success){return $ionicLoading.hide(),success}).catch(function(){$ionicLoading.hide()})},getUser:function(){return $ionicLoading.show({template:"Cargando..."}),API.getUser().then(function(success){return $ionicLoading.hide(),success}).catch(function(){$ionicLoading.hide()})}}}),angular.module("starter.results.controllers",[]).controller("ResultsInstitutesCtrl",function($scope,resultsInstitutes){$scope.rowInstitutes=[];var doubled=function(list,newL){return newL||(newL=[]),0==list.length?newL:doubled(_.tail(list,2),_.union(newL,[_.head(list,2)]))};resultsInstitutes.getAllInstitutes().then(function(success){$scope.rowInstitutes=doubled(success.data.data)})}).controller("ResultsCtrl",function($scope,$stateParams,results){$scope.results=[],results.getAllResultsByInstitute($stateParams.id).then(function(success){$scope.results=success.data.data
})}),angular.module("starter.results.services",[]).factory("resultsInstitutes",function($http,$ionicLoading,localStorageService,api,access){var API={getAllInstitutes:function(){return $http({method:"get",url:api.url+api.result,headers:{Authorization:localStorageService.get(CryptoJS.SHA1(access.tokens.user).toString()).token_type+" "+localStorageService.get(CryptoJS.SHA1(access.tokens.user).toString()).access_token}})}};return{getAllInstitutes:function(){return $ionicLoading.show({template:"Cargando..."}),API.getAllInstitutes().then(function(success){return $ionicLoading.hide(),success}).catch(function(){$ionicLoading.hide()})}}}).factory("results",function($http,$ionicLoading,localStorageService,api,access){var API={getAllResultsByInstitute:function(instituteId){return $http({method:"get",url:api.url+api.result+api.id(instituteId),headers:{Authorization:localStorageService.get(CryptoJS.SHA1(access.tokens.user).toString()).token_type+" "+localStorageService.get(CryptoJS.SHA1(access.tokens.user).toString()).access_token}})}};return{getAllResultsByInstitute:function(instituteId){return $ionicLoading.show({template:"Cargando..."}),API.getAllResultsByInstitute(instituteId).then(function(success){return $ionicLoading.hide(),success}).catch(function(){$ionicLoading.hide()})}}}),angular.module("starter.selfEvaluation.controllers",[]).controller("SelfEvaluationTestsCtrl",function($scope,selfEvaluationTests){$scope.rowTests=[],$scope.routes={testsDetails:"selfEvaluation-knowledge-area"};selfEvaluationTests.getTestsByGroupId().then(function(success){success&&($scope.rowTests=success.data.data)}).catch(function(error){console.log(error)})}).controller("SelfEvaluationKnowledgeAreaCtrl",function($scope,$stateParams,selfEvaluationKnowledgeArea){$scope.rowTestsDetails=[],$scope.routes={test:"selfEvaluation-test-area",testId:$stateParams.id};var doubled=function(list,newL){return newL||(newL=[]),0==list.length?newL:doubled(_.tail(list,2),_.union(newL,[_.head(list,2)]))};selfEvaluationKnowledgeArea.getAllKnowledgeArea($stateParams.id).then(function(success){success&&($scope.rowTestsDetails=doubled(success.data.data))}).catch(function(error){console.log(error)})}).controller("SelfEvaluationTestCtrl",function($scope,$stateParams,selfEvaluationTest){$scope.test={},$scope.questions=[],$scope.params=$stateParams,$scope.respuesta={},$scope.rollbackAnswersFlag=!1,selfEvaluationTest.getTestAnswersByArea($stateParams).then(function(success){success&&($scope.questions=success.data.data);for(var p in $scope.questions)0==$scope.questions[p].open&&($scope.close=!0,$scope.questions[p].answers=_.shuffle($scope.questions[p].answers)),1==$scope.questions[p].open&&($scope.open=!0)}).catch(function(error){console.log(error)}),$scope.verifyAnswers=function(){$scope.rollbackAnswersFlag=!0;var firstUnanswered=null;_.each($scope.questions,function(question,index){question.answer?$("#answer-"+index).replaceWith('<p id="answer-'+index+'">'+(index+1)+".</p>"):null===firstUnanswered&&(firstUnanswered=index,$("#answer-"+index).focus())})},$scope.rollbackAnswers=function(){$scope.rollbackAnswersFlag=!1,_.each($scope.questions,function(question,index){$("#answer-"+index).replaceWith('<h3 id="answer-'+index+'">'+(index+1)+".</h3>")})},$scope.sendAnswers=function(){selfEvaluationTest.sendAnswers($stateParams.id,$scope.questions)}}),angular.module("starter.selfEvaluation.services",[]).factory("selfEvaluationTests",function($http,$ionicLoading,localStorageService,api,access){var API={getTestsByGroupId:function(){return $http({method:"get",url:api.url+api.test+api.self,headers:{Authorization:localStorageService.get(CryptoJS.SHA1(access.tokens.user).toString()).token_type+" "+localStorageService.get(CryptoJS.SHA1(access.tokens.user).toString()).access_token,"Content-Type":"application/json"},data:{nonErrorMessage:!0}})},createSelfTest:function(){return $http({method:"post",url:api.url+api.test+api.self,headers:{Authorization:localStorageService.get(CryptoJS.SHA1(access.tokens.user).toString()).token_type+" "+localStorageService.get(CryptoJS.SHA1(access.tokens.user).toString()).access_token}})}};return{getTestsByGroupId:function(){var these=this;return $ionicLoading.show({template:"Cargando..."}),API.getTestsByGroupId().then(function(success){return console.log(success),success.data.data.length>0?($ionicLoading.hide(),success):void API.createSelfTest().then(function(){return these.getTestsByGroupId()}).catch(function(){})}).catch(function(error){404==error.status&&API.createSelfTest().then(function(){return these.getTestsByGroupId()}).catch(function(){}),$ionicLoading.hide()})}}}).factory("selfEvaluationKnowledgeArea",function($http,$alert,$ionicLoading,$ionicPopup,$state,localStorageService,api,access){var API={getAllKnowledgeArea:function(testId){return $http({method:"get",url:api.url+api.test+"/"+testId+api.knowledgeArea,headers:{Authorization:localStorageService.get(CryptoJS.SHA1(access.tokens.user).toString()).token_type+" "+localStorageService.get(CryptoJS.SHA1(access.tokens.user).toString()).access_token,"Content-Type":"application/json"}})},closeTest:function(testId){return $http({method:"post",url:api.url+api.test+api.id(testId)+api.close,headers:{Authorization:localStorageService.get(CryptoJS.SHA1(access.tokens.user).toString()).token_type+" "+localStorageService.get(CryptoJS.SHA1(access.tokens.user).toString()).access_token}})}};return{getAllKnowledgeArea:function(testId){return $ionicLoading.show({template:"Cargando..."}),API.getAllKnowledgeArea(testId).then(function(success){return success.data.data.length>0?($ionicLoading.hide(),success):($ionicLoading.hide(),$alert.show("Mensaje","Prueba finalizada exitosamente"),$state.go("home"),void 0)}).catch(function(){$ionicLoading.hide()})}}}).factory("selfEvaluationTest",function($http,$alert,$ionicLoading,$q,$state,localStorageService,api,$ionicNavBarDelegate,access){var API={getTestAnswersByArea:function(test){return $http({method:"get",url:api.url+api.test+"/"+test.id+api.testQuestions+"/"+test.area,headers:{Authorization:localStorageService.get(CryptoJS.SHA1(access.tokens.user).toString()).token_type+" "+localStorageService.get(CryptoJS.SHA1(access.tokens.user).toString()).access_token,"Content-Type":"application/json"}})},getTestById:function(testId){return $http({method:"get",url:api.url+api.test+"/"+testId,headers:{Authorization:localStorageService.get(CryptoJS.SHA1(access.tokens.user).toString()).token_type+" "+localStorageService.get(CryptoJS.SHA1(access.tokens.user).toString()).access_token,"Content-Type":"application/json"}})},sendAnswers:function(test,data){for(var qs=[],i=0;i<data.length;i++)qs.push(function(d){return $http({method:"post",url:api.url+api.response,headers:{Authorization:localStorageService.get(CryptoJS.SHA1(access.tokens.user).toString()).token_type+" "+localStorageService.get(CryptoJS.SHA1(access.tokens.user).toString()).access_token,"Content-Type":"application/json"},data:{test_id:test,question_id:d.id,answer_id:d.answer}})}(data[i]));return $q.all(qs).then(function(responses){var qSent=_.reduce(responses,function(a,r){return a+r},0);qSent===qs.length?console.log("All questions sent"):console.log("%d/%d questions sent",qSent,qs.length)})}};return{getTestAnswersByArea:function(test){return $ionicLoading.show({template:"Cargando..."}),API.getTestAnswersByArea(test).then(function(success){return $ionicLoading.hide(),success}).catch(function(){$ionicLoading.hide()})},getTestById:function(){return $ionicLoading.show({template:"Cargando..."}),API.getTestAnswersByArea(test).then(function(success){return $ionicLoading.hide(),success}).catch(function(){$ionicLoading.hide()})},sendAnswers:function(testId,data){$ionicLoading.show({template:"Cargando..."}),API.sendAnswers(testId,data).then(function(){$ionicLoading.hide(),$alert.show("Exito","Area enviada"),$ionicNavBarDelegate.back()}).catch(function(){$ionicLoading.hide()})}}}),angular.module("app.templates",[]).run(["$templateCache",function($templateCache){$templateCache.put("views/auth/home.tpl.html",'<ion-view title="Menú Principal" hide-back-button="true">\n  <ion-content class="padding">\n    <div class="row padding item">\n      <div class="col divIcon item-avatar">\n        <h2>Evaluación</h2>\n        <a ui-sref="evaluation"><img src="./img/1.svg" alt="Encuentra las pruebas que debes presentar según su asignatura"></a>\n      </div>\n      <div class="col divIcon item-avatar">\n        <h2>Evalúate</h2>\n        <a ui-sref="selfEvaluation"><img src="./img/2.svg" alt="Reta tu conocimiento y prepárate para tus pruebas"></a>\n      </div>\n    </div>\n    <div class="row padding item">\n      <div class="col divIcon item-avatar">\n        <h2>Resultados</h2>\n        <a ui-sref="resultsInstitutes"><img src="./img/3.svg" alt="Revisa el puntaje en poco tiempo y la retroalimentación para mejorar "></a>\n      </div>\n      <div class="col divIcon item-avatar">\n        <h2>Promedio Aprendizaje</h2>\n        <a ui-sref="indicators"><img src="./img/4.svg" alt="Conoce los avances de tus conocimiento"></a>\n      </div>\n    </div>\n    <div class="row padding item">\n      <div class="col divIcon item-avatar">\n        <h2>Configuraciones</h2>\n        <a ui-sref="configurations"><img src="./img/5.svg" alt="Configura tu aplicación"></a>\n      </div>\n      <div class="col divIcon item-avatar">\n        <h2>Cerrar Sesión</h2>\n        <a href="" ng-click="logout()"><img src="./img/9.svg" alt="Cierra esta sesión"></a>\n      </div>\n    </div>\n  </ion-content>\n</ion-view>\n'),$templateCache.put("views/auth/login.tpl.html",'<ion-view title="Iniciar Sesión" hide-back-button="true" >\n  <ion-content class="padding">\n    <form class="list" name="loginForm" ng-submit="login($event)">\n      <label class="item item-input">\n        <span class="input-label" tabindex="-1">Correo</span>\n        <input type="email" aria-describedby="login-user-input-text" ng-model="user.username" required>\n        <p id="login-user-input-text" class="aria-description">Ingrese el correo</p>\n      </label>\n      <label class="item item-input">\n        <span class="input-label" tabindex="-1">Contraseña</span>\n        <input type="password" aria-describedby="login-user-input-pass" ng-model="user.password" required>\n        <p id="login-user-input-pass" class="aria-description">Ingrese la contraseña</p>\n      </label>\n      <input type="submit" ng-disabled="loginForm.$invalid" class="button button-block button-inci" value="Iniciar Sesion" ng-model="user.password">\n    </form>\n    <a ui-sref="registro" ><button class="button button-block button-inci">Registrarse</button></a>\n    <a ui-sref="recover" ><button class="button button-block button-inci">Olvidaste la contraseña</button></a>\n  </ion-content>\n</ion-view>\n'),$templateCache.put("views/auth/recover.tpl.html",'<ion-view title="Recordar contraseña">\n    <ion-content class="padding">\n        <form class="list" name="recoverForm" ng-submit="recover($event, user.mail)">\n            <label for="email" class="item item-input">\n                <span class="input-label" >Correo</span>\n                <input name="email" ng-pattern="/^[a-z][\\w.-]+@\\w[\\w.-]+\\.[\\w.-]*[a-z][a-z]$/i" type="email" aria-describedby="registro-user-mail" ng-model="user.mail"  required>\n                <p id ="registro-user-mail" class="aria-description">Digite su correo</p>\n                <span ng-if="validate(recoverForm, \'email\')" class="text-assertive">Tiene que ser un correo válido</span>\n            </label>\n            <input type="submit" ng-disabled="recoverForm.$invalid" class="button button-block button-inci" value="Aceptar">\n        </form>\n    </ion-content>\n</ion-view>\ns\n'),$templateCache.put("views/auth/registro.tpl.html",'<ion-view title="Registro" hide-back-button="false">\n  <ion-content class="padding">\n    <form class="list" name="registryUserForm" ng-submit="registrar($event, user)">\n      <label for="id" class="item item-input item-stacked-label">\n        <span class="input-label">Número de documento</span>\n        <input name="id" type="number"  aria-describedby="registro-user-document" ng-model="user.id" required>\n        <p id= "registro-user-document" class="aria-description">Digite su número de documento</p>\n        <span ng-if="validate(registryUserForm, \'id\')" class="text-assertive">Tiene que ser un número</span>\n      </label>\n      <label for="name" class="item item-input item-stacked-label">\n        <span class="input-label">Nombres</span>\n        <input name="name" type="text"  aria-describedby="registro-user-name" ng-model="user.names"  required>\n        <p id= "registro-user-name" class="aria-description">Digite su nombre</p>\n        <span ng-if="validate(registryUserForm, \'name\')" class="text-assertive">Campo obligatorio</span>\n      </label>\n      <label for="lastName" class="item item-input item-stacked-label">\n        <span class="input-label">Apellidos</span>\n        <input name="lastName" type="text" aria-describedby="registro-user-surname" ng-model="user.last_name"  required>\n        <p id="registro-user-surname" class="aria-description">Digite sus apellidos</p>\n        <span ng-if="validate(registryUserForm, \'lastName\')" class="text-assertive">Campo obligatorio</span>\n      </label>\n      <label for="birth_date" class="item item-input item-stacked-label">\n        <span class="input-label">Fecha de nacimiento</span>\n        <input name="birth_date" type="date"  aria-describedby="registro-user-birthdate" ng-model="user.birth_date" required>\n        <p id="registro-user-birthdate" class="aria-description">Ingrese su fecha de nacimiento</p>\n        <span ng-if="validate(registryUserForm, \'birth_date\')" class="text-assertive">Fecha de nacimiento no válida</span>\n        <span ng-if="user.birth_date > maxDate" class="text-assertive">Fecha de nacimiento no válida</span>\n\n      </label>\n      <label for="gender" class="item item-input item-stacked-label">\n        <span class="input-label">Género</span>\n        <ion-radio name="gender" ng-repeat="gender in genders" ng-model="user.gender_id" ng-value="{{gender.id}}" name="disabilities" required>{{gender.description}}</ion-radio>\n        <span ng-if="validate(registryUserForm, \'gender\')" class="text-assertive">Campo obligatorio/span>\n      </label>\n      <label for="disabilitie" class="item item-input item-stacked-label">\n        <span class="input-label">Condición visual</span>\n        <ion-radio name="disabilitie" ng-repeat="disabilitie in disabilities" ng-model="user.evaluee.disability_id" ng-value="{{disabilitie.id}}" name="disabilities" required>{{disabilitie.description}}</ion-radio>\n        <span ng-if="validate(registryUserForm, \'disabilitie\')" class="text-assertive">Campo obligatorio/span>\n      </label>\n      <label for="type" class="item item-input item-stacked-label">\n        <span class="input-label">Tipo de usuario</span>\n        <ion-radio name="type" ng-repeat="type in types" ng-model="user.evaluee.evaluee_type" ng-value="{{type.id}}" name="types" required>{{type.description}}</ion-radio>\n        <span ng-if="validate(registryUserForm, \'type\')" class="text-assertive">Campo obligatorio/span>\n      </label>\n      <label for="level" class="item item-input item-stacked-label">\n        <span class="input-label">Nivel de formación</span>\n        <ion-radio name="level" ng-repeat="level in levels" ng-model="user.evaluee.level_id" ng-value="{{level.id}}" name="levels" required>{{level.description}}</ion-radio>\n        <span ng-if="validate(registryUserForm, \'level\')" class="text-assertive">Campo obligatorio/span>\n      </label>\n      <label for="email" class="item item-input item-stacked-label">\n        <span class="input-label" >Correo</span>\n        <input name="email" ng-pattern="/^[a-z][\\w.-]+@\\w[\\w.-]+\\.[\\w.-]*[a-z][a-z]$/i" type="email" aria-describedby="registro-user-mail" ng-model="user.mail"  required>\n        <p id ="registro-user-mail" class="aria-description">Digite su correo</p>\n        <span ng-if="validate(registryUserForm, \'email\')" class="text-assertive">Tiene que ser un correo válido</span>\n      </label>\n      <label name="password" class="item item-input item-stacked-label"  required>\n        <span class="input-label">Contraseña</span>\n        <input name="password" type="password"  ng-minlength="6" aria-describedby="registro-user-id" ng-model="user.password"  required>\n        <span id ="registro-user-id" class="aria-description">Digite su contraseña</span>\n        <span ng-if="validate(registryUserForm, \'password\')" class="text-assertive">Tiene que tener mínimo 6 carácteres</span>\n      </label>\n      <label name="password2" class="item item-input item-stacked-label"  required>\n        <span class="input-label">Repite la contraseña</span>\n        <input name="password2" type="password" aria-describedby="registro-user-id" ng-model="password2"  required>\n        <span id ="registro-user-id" class="aria-description">Por último, repita su contraseña</span>\n        <span ng-if="(user.password != password2) && registryUserForm.password2.$dirty" class="text-assertive">Las contraseñas no coinciden</span>\n      </label>\n      </label>\n\n      <h5 style="text-align: center" ng-if="registryUserForm.$invalid || (user.password != password2) || user.birth_date > maxDate" class="text-assertive">Tu formulario contiene campos inválidos</h5>\n      <input ng-disabled="registryUserForm.$invalid || (user.password != password2) || user.birth_date > maxDate" type="submit" class="button button-block button-inci" value="Registrar">\n    </form>\n  </ion-content>\n</ion-view>\n'),$templateCache.put("views/errors/403.tpl.html",'<ion-view title="403">\n  <ion-content class="padding">\n    <div class="card">\n      <center><h4>No tienes permisos para acceder a este contenido</h4></center>\n      <br><br>\n    </div>\n\n\n    <button class="button button-block button-inci" ui-sref="login">Ir a inicio</button>\n  </ion-content>\n</ion-view>\n'),$templateCache.put("views/errors/404.tpl.html",'<ion-view title="404">\n  <ion-content class="padding">\n    <div class="card">\n      <center><h4>El recurso que buscas no se ha encontrado :c </h4></center>\n      <br><br>\n    </div>\n    <button class="button button-block button-inci" ui-sref="login">Ir a inicio</button>\n  </ion-content>\n</ion-view>\n'),$templateCache.put("views/evaluation/groups.tpl.html",'<ion-view title="Grupos">\n  <ion-content class="padding">\n    <div class="row padding item" ng-repeat="groups in rowGroups">\n      <div class="col col-50 divIcon item-avatar" ng-repeat="group in groups">\n        <h2 class="titleInci">{{group.id}} - {{group.user.first_name}} {{group.user.last_name}}</h2>\n        <a ui-sref="{{routes.test}}({id: {{group.id}}})"><img src="http://placehold.it/180/FFFFFF/00427a&text={{group.id}}" alt="{{group.id}} - {{group.user.first_name}} {{group.user.last_name}}"></a>\n      </div>\n    </div>\n  </ion-content>\n</ion-view>\n'),$templateCache.put("views/evaluation/institutions.tpl.html",'<ion-view title="Instituciones">\n  <ion-content class="padding">\n    <div class="row padding item" ng-repeat="institutes in rowInstitutes">\n      <div class="col col-50 divIcon item-avatar" ng-repeat="institute in institutes">\n        <h2 class="titleInci">{{institute.name}}</h2>\n        <a ui-sref="{{routes.groups}}({id: {{institute.id}}})"><img ng-src="http://cdn.boolinc.co/evaluon/{{institute.image.location}}\n          " alt="{{institute.name}}"></a>\n      </div>\n    </div>\n  </ion-content>\n</ion-view>\n'),$templateCache.put("views/evaluation/knowledge-area.tpl.html",'<ion-view title="Areas de Conocimiento" hide-back-button="true">\n  <ion-content class="padding">\n    <div class="row padding item" ng-repeat="tests in rowTestsDetails">\n      <div class="col col-50 divIcon item-avatar" ng-repeat="test in tests">\n\n        <h2 class="titleInci">{{test.id}}</h2>\n        <a ui-sref="{{routes.test}}({id: {{routes.testId}}, area: {{\'test.id\'}} })"><img ng-src="http://cdn.boolinc.co/evaluon/{{test.image.location}}" alt="{{test.id}}"></a>\n      </div>\n    </div>\n    <button class="button button-block button-inci" ng-click="exit()">Salir</button>\n\n  </ion-content>\n</ion-view>\n'),$templateCache.put("views/evaluation/password.tpl.html",'<ion-view title="Contraseña">\n  <ion-content class="padding">\n    <form class="list" ng-submit="loginTest($event)">\n      <label class="item item-input">\n        <span class="input-label" tabindex="-1">Contraseña</span>\n        <input type="number" aria-describedby="login-user-input-text" ng-model="password.data" required>\n        <p id="login-user-input-text" class="aria-description">Ingrese la contraseña de el examen</p>\n      </label>\n      <input type="submit" class="button button-block button-inci" value="Iniciar Examen">\n    </form>\n  </ion-content>\n</ion-view>\n'),$templateCache.put("views/evaluation/test.tpl.html",'<ion-view title="Examen de {{params.area}}" hide-back-button="true">\n  <ion-content class="padding">\n    <div class="card">\n      <div class="item item-text-wrap">\n        <h3>Examen evaluon</h3>\n        <p>Ten en cuenta que el examen se anulará al cerrar la aplicación</p>\n        <br>\n        <h3>Tipos de preguntas</h3>\n        <div>\n          <p>En el examen se pueden utilizan preguntas de selección múltiple con única respuesta y preguntas abiertas de respuesta corta.</div> </p>\n          <p ng-if="close">Las preguntas de selección múltiple con única respuesta están conformadas por un enunciado, la formulación de una tarea de evaluación y cuatro opciones de respuesta, codificadas como A, B, C y D, de las cuales sólo una es correcta o válida dada la tarea planteada.</p>\n          <p ng-if="close">Puedes desplazarte por las preguntas y respuestas, cuándo quieras responder acertadamente a una opción solo basta un doble click.</p>\n          <p ng-if="open">Las preguntas abiertas de respuesta corta no presentan opciones de respuesta. El estudiante construye (produce, elabora, escribe) una respuesta de acuerdo con la tarea que se le ha asignado, en el espacio definido.</p>\n          <p ng-if="open">Puedes resplazarte por las preguntas y respuestas, cuándo quieras responder solo basta llenar el campo de texto</p>\n        </div>\n      </div>\n    </div>\n    <h2>Preguntas:</h2>\n\n    <div class="list">\n      <div class="answer" ng-repeat="question in questions">\n        <div class="item">\n          <h3 id ="answer-{{$index}}">{{$index + 1}}.</h3>\n          <p>{{question.description_text}}</p>\n        </div>\n        <div class="row" ng-if="question.image">\n          <div class="col col-80 col-offset-10 text-center" >\n            <img ng-src="http://cdn.boolinc.co/evaluon/{{question.image.location}}" alt="{{question.image.description}}" class="img-responsive">\n          </div>\n        </div>\n        <label ng-if="question.open == 1" class="item item-input">\n          <textarea placeholder="Ingrese su respuesta" ng-model="question.answer"></textarea>\n        </label>\n        <ion-radio ng-if="question.open == 0" ng-repeat = "answer in question.answers" ng-value="\'{{answer.id}}\'" ng-model="question.answer"   name="answer{{answer.id}}"><p><strong>{{\'abcdefghijklmnopqrstuvwxyz\'[$index]}}.</strong>  {{answer.description_text}} </p></ion-radio>\n      </div>\n    </div>\n\n    <!--<div class="list card" ng-repeat = "question in questions">\n      <div class="item">\n        <h3 id ="answer-{{$index}}">{{$index + 1}}.</h3>\n        <p>{{question.description_text}}</p>\n      </div>\n\n      <div class="list">\n        <ion-radio ng-model="question.answer" ng-repeat =" answer in question.answers" ng-value="\'{{answer.id}}\'" ><p><strong>{{\'abcdefghijklmnopqrstuvwxyz\'[$index]}}.</strong>  {{answer.description_text}} </p></ion-radio>\n      </div>\n    </div>-->\n\n    <button class="button button-full button-inci" ng-click="verifyAnswers()">Preguntas no contestadas</button>\n    <button class="button button-full button-inci" ng-click="rollbackAnswers()" ng-if="rollbackAnswersFlag">Volver al original</button>\n    <button class="button button-full button-inci" ng-click="sendAnswers()">Enviar</button>\n    <button class="button button-full button-inci" ng-click="exit()">Volver</button>\n  </ion-content>\n</ion-view>\n'),$templateCache.put("views/evaluation/tests.tpl.html",'<ion-view title="Evaluaciones">\n  <ion-content class="padding">\n    <div class="list" ng-repeat="test in rowTests">\n      <div class="item item-divider">\n        <h2 class="titleInci">{{test.id}}</h2>\n      </div>\n      <div class="item item-text-wrap">\n        <span>{{test.description}}</span>\n        <br>\n      </div>\n      <a class="item item-icon-left" ui-sref="{{routes.testsDetails}}({id: {{test.id}}})">\n        <i class="icon ion-edit" alt="Empezar prueba"></i>\n        Empezar prueba\n      </a>\n    </div>\n  </ion-content>\n</ion-view>\n'),$templateCache.put("views/indicators/indicators.tpl.html",'<ion-view title="Promedio de Aprendizaje">\n  <ion-content class="padding">\n    <div class="list card">\n\n      <div class="item item-avatar">\n        <h2>{{user.first_name}} {{user.last_name}}</h2>\n        <p> Desde: {{user.register_date | date: \'MMM d, yyyy\' : \'cot\'}}</p>\n      </div>\n\n      <div class="item item-body" class="text-center">\n        <div class="row">\n          <div class="col col-80 col-offset-10 text-center">\n            <i ng-if="!indicators.levelName" class="ion-load-a"></i>\n            <img ng-if="indicators.levelName" class="full-image" src="img/indicators/{{indicators.levelName}}.svg" alt="Grado {{levels[indicators.levelName]}}">\n          </div>\n        </div>\n        <p>\n          <h2 class="text-center">Grado {{levels[indicators.levelName]}}</h2> {{indicators.description}}\n        </p>\n      </div>\n\n      <a class="item item-icon-left assertive" href="">\n        <i class="icon ion-checkmark-round" alt="Preguntas acertadas"></i>\n          {{indicators.questions}} Preguntas acertadas\n      </a>\n      <a class="item item-icon-left assertive" href="">\n        <i class="icon ion-stats-bars" alt="Promedio"></i>\n          Promedio:  {{indicators.average}}\n      </a>\n      <a class="item item-icon-left assertive" href="">\n        <i class="icon ion-ios7-star-half" alt="Preguntas para el próximo grado"></i>\n          {{indicators.remainingQuestions}} Preguntas para el próximo grado\n      </a>\n\n    </div>\n  </ion-content>\n</ion-view>\n'),$templateCache.put("views/results/institutions.tpl.html",'<ion-view title="Instituciones">\n  <ion-content class="padding">\n    <div class="row padding item" ng-repeat="institutes in rowInstitutes">\n      <div class="col col-50 divIcon item-avatar" ng-repeat="institute in institutes">\n        <h2 class="titleInci">{{institute.name}}</h2>\n        <a  ui-sref="results({id: {{institute.id}}})"><img ng-src="http://cdn.boolinc.co/evaluon/{{institute.image.location}}" alt="Colegio Inem de Bucaramamnga"></a>\n      </div>\n    </div>\n  </ion-content>\n</ion-view>\n'),$templateCache.put("views/results/results.tpl.html",'<ion-view title="Resultados">\n  <ion-content >\n    <div class="list">\n      <a class="item item-avatar" ng-repeat="result in results">\n        <h2>{{result.description}}</h2>\n        <p>Resultado: {{result.note*10}} de 10p</p>\n        <p ng-if="result.feedback">Comentarios: {{result.feedback}}</p>\n      </a>\n    </div>\n  </ion-content>\n</ion-view>\n'),$templateCache.put("views/configurations/about.tpl.html",'<ion-view title="Acerca de">\n    <ion-content class="padding">\n\n        <div class="card">\n            <div class="item">\n                <h1 class="text-center">Evaluon <small>1.0</small> </h1>\n\n            </div>\n            <h4 class="text-center">Instituto Nacional Para Ciegos <br><small>©2014 - Derechos Reservados</small></h4>\n            <p class="text-center">Tenga en cuenta que esta aplicación requiere\n            acceso a internet y puede consumir recursos de su\n            plan de datos</p>\n            <br><br>\n\n            <div class="row">\n                <div class="col text-center"><img src="./img/logos/inci.png" class="img-responsive img-about"></div>\n            </div>\n            <div class="row">\n                <div class="col text-center"><img src="./img/logos/mintic.jpg" alt="MinTic" class="img-responsive img-center img-about"></div>\n\n            </div>\n            <div class="row">\n                <div class="col text-center"><img src="./img/logos/gobierno.jpg" alt="Gobierno Colombiano" class="img-responsive img-center img-about"></div>\n            </div>\n            <div class="row">\n                <div class="col text-center">\n                    <p class="text-center">\n                        Johana Salinas Quintana <br>\n                        Pablo Andres Dorado <br>\n                        Carlos Sebastián Osorio <br>\n                        <img src="./img/logos/bool.png" alt="Bool inc" class="img-responsive">\n                    </p>\n                </div>\n            </div>\n        </div>\n\n    </ion-content>\n</ion-view>\n'),$templateCache.put("views/configurations/changePassword.tpl.html",'<ion-view title="Cambiar contraseña">\n  <ion-content class="padding">\n    <form class="list" name="changePasswordForm" ng-submit="changePassword($event)">\n      <label for="password1" class="item item-input">\n        <span class="input-label" tabindex="-1">Nueva contraseña</span>\n        <input name="password1" type="password" ng-minlength="6" aria-describedby="login-user-input-pass" ng-model="user.password1" required>\n        <p id="login-user-input-pass" class="aria-description">Ingrese la nueva contraseña</p>\n        <span ng-if="validate(changePasswordForm, \'password1\')" class="text-assertive">Tiene que tener mínimo 6 carácteres</span>\n      </label>\n      <label for="password2" class="item item-input">\n        <span class="input-label" tabindex="-1">Repite la contraseña</span>\n        <input name="password2" type="password" aria-describedby="login-user-input-pass2" ng-model="user.password2" required>\n        <p id="login-user-input-pass2" class="aria-description">Ingrese de nuevo la nueva contraseña</p>\n        <span ng-if="(user.password1 != user.password2) && changePasswordForm.password2.$dirty" class="text-assertive">Las contraseñas no coinciden</span>\n      </label>\n      <input ng-disabled="changePasswordForm.$invalid  || (user.password1 != user.password2)" type="submit" class="button button-block button-inci" value="Cambiar contraseña">\n    </form>\n  </ion-content>\n</ion-view>\n'),$templateCache.put("views/configurations/configurations.tpl.html",'<ion-view title="Configuraciones">\n  <ion-content class="padding">\n    <div class="row padding item">\n      <div class="col col-50 divIcon item-avatar">\n        <h2>Cambiar contraseña</h2>\n        <a ui-sref="configurations-changePassword"><img src="./img/6.svg" alt="Cambia tu contraseña"></a>\n      </div>\n      <div class="col col-50 divIcon item-avatar">\n        <h2>Actualizar perfil</h2>\n        <a ui-sref="configurations-update"><img src="./img/10.svg" alt="Actualiza tu perfil"></a>\n      </div>\n    </div>\n    <div class="row padding item">\n      <div class="col col-50 divIcon item-avatar">\n        <h2>Ayuda</h2>\n        <a ui-sref="configurations-help"><img src="./img/7.svg" alt="Entra a ayuda"></a>\n      </div>\n      <div class="col col-50 divIcon item-avatar">\n        <h2>Acerca de</h2>\n        <a ui-sref="configurations-about"><img src="./img/9.svg" alt="Entra al Acerca de"></a>\n      </div>\n    </div>\n  </ion-content>\n</ion-view>\n'),$templateCache.put("views/configurations/help.tpl.html",'<ion-view title="Ayuda">\n    <ion-content class="padding">\n        <div class="list card">\n\n            <div class="item ">\n                <h2>Accesibilidad</h2>\n            </div>\n\n            <div class="item item-body">\n                <p>\n                    Puedes utiliza la navegación por encabezados, hará más ágil el uso de esta aplicación.\n                </p>\n            </div>\n\n            <div class="item ">\n                <h2>Evaluación</h2>\n            </div>\n\n            <div class="item item-body">\n                <p>\n                    Presenta el listado de instituciones o organizaciones la cual la persona con discapacidad visual se encuentre inscrita, y dentro a cada una de ellas encontraremos el grupo al que pertenece cada persona, donde encontrará el examen que debe presentar ingresando el código que proveerá el docente o director de la prueba.\n                    <h3>Accesibilidad:</h3>\n                    En el momento de presentar la evaluación puedes desplazarte por los encabezados de las preguntas, cuándo utilices la opción de preguntas no contestadas los encabezados de las preguntas contestadas desaparecerán.\n                </p>\n            </div>\n\n            <div class="item ">\n                <h2>Evalúate</h2>\n            </div>\n\n\n            <div class="item item-body">\n                <p>\n                    Presenta el banco de preguntas por área de conocimiento donde las personas podrán practicar y prepararse para sus pruebas evaluativas eso genera un promedio de aprendizaje.\n                    <h3>Accesibilidad:</h3>\n                    En el momento de presentar la evaluación puedes desplazarte por los encabezados de las preguntas, cuándo utilices la opción de preguntas no contestadas los encabezados de las preguntas contestadas desaparecerán.\n                </p>\n            </div>\n\n            <div class="item ">\n                <h2>Resultados</h2>\n            </div>\n\n            <div class="item item-body">\n                <p>\n                    Observaran los resultados de las pruebas que se va presentado y se encontraran por periodos.\n\n                </p>\n            </div>\n\n            <div class="item ">\n                <h2>Promedio Aprendizaje</h2>\n            </div>\n\n            <div class="item item-body">\n                <p>Es el ponderado de las practicas que haz realizados en el banco de preguntas de evalúate, veras las preguntas acertadas, promedio, preguntas para el próximo exxamen que genera unos puntos y un estatus, entre más practicas la personas más aumentara su promedio.</p>\n\n            </div>\n\n            <div class="item ">\n                <h2>Configuraciones</h2>\n            </div>\n\n            <div class="item item-body">\n                <p>\n                    Permite los cambio de contraseña, solicitar ayuda, y conocer un poco más sobre la aplicación.\n\n                </p>\n            </div>\n\n\n        </div>\n    </ion-content>\n</ion-view>\n'),$templateCache.put("views/configurations/updateUser.tpl.html",'<ion-view title="Actualizar perfil">\n    <ion-content class="padding">\n        <form class="list" name="updateUserForm" ng-submit="update($event, user)">\n            <label class="item item-input item-stacked-label">\n                <span class="input-label">Número de documento</span>\n                <input disabled type="number" aria-describedby="registro-user-document" ng-model="id">\n                <p id= "registro-user-document" class="aria-description">Número del documento de identidad</p>\n            </label>\n            <label for="name" class="item item-input item-stacked-label">\n                <span class="input-label">Nombres</span>\n                <input name="name" type="text"  aria-describedby="registro-user-name" ng-model="user.names"  required>\n                <p id= "registro-user-name" class="aria-description">Digite su nombre</p>\n                <span ng-if="validate(updateUserForm, \'name\')" class="text-assertive">Campo obligatorio</span>\n            </label>\n            <label for="lastName" class="item item-input item-stacked-label">\n                <span class="input-label">Apellidos</span>\n                <input name="lastName" type="text" aria-describedby="registro-user-surname" ng-model="user.last_name"  required>\n                <p id="registro-user-surname" class="aria-description">Digite sus apellidos</p>\n                <span ng-if="validate(updateUserForm, \'lastName\')" class="text-assertive">Campo obligatorio</span>\n            </label>\n            <label for="birth_date" class="item item-input item-stacked-label">\n                <span class="input-label">Fecha de nacimiento</span>\n                <input name="birth_date" type="date"  aria-describedby="registro-user-birthdate" ng-model="user.birth_date"  required>\n                <p id="registro-user-birthdate" class="aria-description">Ingrese su fecha de nacimiento</p>\n                <span ng-if="validate(updateUserForm, \'birth_date\')" class="text-assertive">Campo obligatorio/span>\n            </label>\n            <label for="gender" class="item item-input item-stacked-label">\n                <span class="input-label">Género</span>\n                <ion-radio name="gender" ng-repeat="gender in genders" ng-model="user.evaluee.gender_id" ng-value="{{gender.id}}" name="disabilities" required>{{gender.description}}</ion-radio>\n                <span ng-if="validate(updateUserForm, \'gender\')" class="text-assertive">Campo obligatorio/span>\n            </label>\n            <label for="disabilitie" class="item item-input item-stacked-label">\n                <span class="input-label">Condición visual</span>\n                <ion-radio name="disabilitie" ng-repeat="disabilitie in disabilities" ng-model="user.evaluee.disability_id" ng-value="{{disabilitie.id}}" name="disabilities" required>{{disabilitie.description}}</ion-radio>\n                <span ng-if="validate(updateUserForm, \'disabilitie\')" class="text-assertive">Campo obligatorio/span>\n            </label>\n            <label for="type" class="item item-input item-stacked-label">\n                <span class="input-label">Tipo de usuario</span>\n                <ion-radio name="type" ng-repeat="type in types" ng-model="user.evaluee.evaluee_type" ng-value="{{type.id}}" name="types" required>{{type.description}}</ion-radio>\n                <span ng-if="validate(updateUserForm, \'type\')" class="text-assertive">Campo obligatorio/span>\n            </label>\n            <label for="level" class="item item-input item-stacked-label">\n                <span class="input-label">Nivel de formación</span>\n                <ion-radio name="level" ng-repeat="level in levels" ng-model="user.evaluee.level_id" ng-value="{{level.id}}" name="levels" required>{{level.description}}</ion-radio>\n                <span ng-if="validate(updateUserForm, \'level\')" class="text-assertive">Campo obligatorio/span>\n            </label>\n            <label for="email" class="item item-input item-stacked-label">\n                <span class="input-label" >Correo</span>\n                <input name="email" ng-pattern="/^[a-z][\\w.-]+@\\w[\\w.-]+\\.[\\w.-]*[a-z][a-z]$/i" type="email" aria-describedby="registro-user-mail" ng-model="user.mail"  required>\n                <p id ="registro-user-mail" class="aria-description">Digite su correo</p>\n            <span ng-if="validate(updateUserForm, \'email\')" class="text-assertive">Tiene que ser un correo válido</span>\n            </label>\n            <h5 style="text-align: center" ng-if="updateUserForm.$invalid" class="text-assertive">Tu formulario contiene campos inválidos</h5>\n            <input ng-disabled="updateUserForm.$invalid" type="submit" class="button button-block button-inci" value="Actualizar">\n        </form>\n    </ion-content>\n</ion-view>\n')
}]);var CryptoJS=CryptoJS||function(e,m){var p={},j=p.lib={},l=function(){},f=j.Base={extend:function(a){l.prototype=this;var c=new l;return a&&c.mixIn(a),c.hasOwnProperty("init")||(c.init=function(){c.$super.init.apply(this,arguments)}),c.init.prototype=c,c.$super=this,c},create:function(){var a=this.extend();return a.init.apply(a,arguments),a},init:function(){},mixIn:function(a){for(var c in a)a.hasOwnProperty(c)&&(this[c]=a[c]);a.hasOwnProperty("toString")&&(this.toString=a.toString)},clone:function(){return this.init.prototype.extend(this)}},n=j.WordArray=f.extend({init:function(a,c){a=this.words=a||[],this.sigBytes=c!=m?c:4*a.length},toString:function(a){return(a||h).stringify(this)},concat:function(a){var c=this.words,q=a.words,d=this.sigBytes;if(a=a.sigBytes,this.clamp(),d%4)for(var b=0;a>b;b++)c[d+b>>>2]|=(q[b>>>2]>>>24-8*(b%4)&255)<<24-8*((d+b)%4);else if(65535<q.length)for(b=0;a>b;b+=4)c[d+b>>>2]=q[b>>>2];else c.push.apply(c,q);return this.sigBytes+=a,this},clamp:function(){var a=this.words,c=this.sigBytes;a[c>>>2]&=4294967295<<32-8*(c%4),a.length=e.ceil(c/4)},clone:function(){var a=f.clone.call(this);return a.words=this.words.slice(0),a},random:function(a){for(var c=[],b=0;a>b;b+=4)c.push(4294967296*e.random()|0);return new n.init(c,a)}}),b=p.enc={},h=b.Hex={stringify:function(a){var c=a.words;a=a.sigBytes;for(var b=[],d=0;a>d;d++){var f=c[d>>>2]>>>24-8*(d%4)&255;b.push((f>>>4).toString(16)),b.push((15&f).toString(16))}return b.join("")},parse:function(a){for(var c=a.length,b=[],d=0;c>d;d+=2)b[d>>>3]|=parseInt(a.substr(d,2),16)<<24-4*(d%8);return new n.init(b,c/2)}},g=b.Latin1={stringify:function(a){var c=a.words;a=a.sigBytes;for(var b=[],d=0;a>d;d++)b.push(String.fromCharCode(c[d>>>2]>>>24-8*(d%4)&255));return b.join("")},parse:function(a){for(var c=a.length,b=[],d=0;c>d;d++)b[d>>>2]|=(255&a.charCodeAt(d))<<24-8*(d%4);return new n.init(b,c)}},r=b.Utf8={stringify:function(a){try{return decodeURIComponent(escape(g.stringify(a)))}catch(c){throw Error("Malformed UTF-8 data")}},parse:function(a){return g.parse(unescape(encodeURIComponent(a)))}},k=j.BufferedBlockAlgorithm=f.extend({reset:function(){this._data=new n.init,this._nDataBytes=0},_append:function(a){"string"==typeof a&&(a=r.parse(a)),this._data.concat(a),this._nDataBytes+=a.sigBytes},_process:function(a){var c=this._data,b=c.words,d=c.sigBytes,f=this.blockSize,h=d/(4*f),h=a?e.ceil(h):e.max((0|h)-this._minBufferSize,0);if(a=h*f,d=e.min(4*a,d),a){for(var g=0;a>g;g+=f)this._doProcessBlock(b,g);g=b.splice(0,a),c.sigBytes-=d}return new n.init(g,d)},clone:function(){var a=f.clone.call(this);return a._data=this._data.clone(),a},_minBufferSize:0});j.Hasher=k.extend({cfg:f.extend(),init:function(a){this.cfg=this.cfg.extend(a),this.reset()},reset:function(){k.reset.call(this),this._doReset()},update:function(a){return this._append(a),this._process(),this},finalize:function(a){return a&&this._append(a),this._doFinalize()},blockSize:16,_createHelper:function(a){return function(c,b){return new a.init(b).finalize(c)}},_createHmacHelper:function(a){return function(b,f){return new s.HMAC.init(a,f).finalize(b)}}});var s=p.algo={};return p}(Math);!function(){var e=CryptoJS,m=e.lib,p=m.WordArray,j=m.Hasher,l=[],m=e.algo.SHA1=j.extend({_doReset:function(){this._hash=new p.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(f,n){for(var b=this._hash.words,h=b[0],g=b[1],e=b[2],k=b[3],j=b[4],a=0;80>a;a++){if(16>a)l[a]=0|f[n+a];else{var c=l[a-3]^l[a-8]^l[a-14]^l[a-16];l[a]=c<<1|c>>>31}c=(h<<5|h>>>27)+j+l[a],c=20>a?c+((g&e|~g&k)+1518500249):40>a?c+((g^e^k)+1859775393):60>a?c+((g&e|g&k|e&k)-1894007588):c+((g^e^k)-899497514),j=k,k=e,e=g<<30|g>>>2,g=h,h=c}b[0]=b[0]+h|0,b[1]=b[1]+g|0,b[2]=b[2]+e|0,b[3]=b[3]+k|0,b[4]=b[4]+j|0},_doFinalize:function(){var f=this._data,e=f.words,b=8*this._nDataBytes,h=8*f.sigBytes;return e[h>>>5]|=128<<24-h%32,e[(h+64>>>9<<4)+14]=Math.floor(b/4294967296),e[(h+64>>>9<<4)+15]=b,f.sigBytes=4*e.length,this._process(),this._hash},clone:function(){var e=j.clone.call(this);return e._hash=this._hash.clone(),e}});e.SHA1=j._createHelper(m),e.HmacSHA1=j._createHmacHelper(m)}();